{"remainingRequest":"D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\node_modules\\babel-loader\\lib\\index.js!D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\src\\store\\index.js","dependencies":[{"path":"D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\src\\store\\index.js","mtime":1616409432336},{"path":"D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VS2019Projects\\VueBookLibrary\\vueclientapp\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1ZTMjAxOVByb2plY3RzL1Z1ZUJvb2tMaWJyYXJ5L3Z1ZWNsaWVudGFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgQXhpb3MgZnJvbSAiYXhpb3MiOwpWdWUudXNlKFZ1ZXgpOwpBeGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHBzOi8vbG9jYWxob3N0OjQ0MzkwL2FwaS8iOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIGJvb2tzOiBbXSwKICAgIHNlbGVjdGVkQm9vazogbnVsbCwKICAgIHNlYXJjaGVkQm9va3M6IFtdLAogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiAnJywKICAgIHVzZXI6IHt9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2F2ZUJvb2s6IGZ1bmN0aW9uIHNhdmVCb29rKGN1cnJlbnRTdGF0ZSwgYm9vaykgewogICAgICB2YXIgaW5kZXggPSBjdXJyZW50U3RhdGUuYm9va3MuZmluZEluZGV4KGZ1bmN0aW9uIChiKSB7CiAgICAgICAgcmV0dXJuIGIuYm9va0lkID09IGJvb2suYm9va0lkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA9PSAtMSkgewogICAgICAgIGN1cnJlbnRTdGF0ZS5ib29rcy5wdXNoKGJvb2spOwogICAgICB9IGVsc2UgewogICAgICAgIFZ1ZS5zZXQoY3VycmVudFN0YXRlLmJvb2tzLCBpbmRleCwgYm9vayk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVCb29rOiBmdW5jdGlvbiBkZWxldGVCb29rKGN1cnJlbnRTdGF0ZSwgYm9vaykgewogICAgICB2YXIgaW5kZXggPSBjdXJyZW50U3RhdGUuYm9va3MuZmluZEluZGV4KGZ1bmN0aW9uIChiKSB7CiAgICAgICAgcmV0dXJuIGIuYm9va0lkID09IGJvb2suYm9va0lkOwogICAgICB9KTsKICAgICAgY3VycmVudFN0YXRlLmJvb2tzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgc2VsZWN0Qm9vazogZnVuY3Rpb24gc2VsZWN0Qm9vayhjdXJyZW50U3RhdGUsIGJvb2spIHsKICAgICAgY3VycmVudFN0YXRlLnNlbGVjdGVkQm9vayA9IGJvb2s7CiAgICB9LAogICAgc2F2ZVNlYXJjaGVkQm9vazogZnVuY3Rpb24gc2F2ZVNlYXJjaGVkQm9vayhjdXJyZW50U3RhdGUsIGJvb2spIHsKICAgICAgY3VycmVudFN0YXRlLnNlYXJjaGVkQm9va3MucHVzaChib29rKTsKICAgIH0sCiAgICBkZWxldGVTZWFyY2hlZEJvb2s6IGZ1bmN0aW9uIGRlbGV0ZVNlYXJjaGVkQm9vayhjdXJyZW50U3RhdGUsIGJvb2spIHsKICAgICAgdmFyIGluZGV4ID0gY3VycmVudFN0YXRlLnNlYXJjaGVkQm9va3MuZmluZEluZGV4KGZ1bmN0aW9uIChzYikgewogICAgICAgIHJldHVybiBzYi5ib29rSWQgPT0gYm9vay5ib29rSWQ7CiAgICAgIH0pOwogICAgICBjdXJyZW50U3RhdGUuc2VhcmNoZWRCb29rcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGF1dGhSZXF1ZXN0OiBmdW5jdGlvbiBhdXRoUmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnbG9hZGluZyc7CiAgICB9LAogICAgYXV0aFN1Y2Nlc3M6IGZ1bmN0aW9uIGF1dGhTdWNjZXNzKHN0YXRlLCB0b2tlbiwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGF1dGhFcnJvcjogZnVuY3Rpb24gYXV0aEVycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXRCb29rc0FjdGlvbjogZnVuY3Rpb24gZ2V0Qm9va3NBY3Rpb24oY29udGV4dCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLmdldCgiYm9va3MiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQuc2VudC5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KCJzYXZlQm9vayIsIGIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzYXZlQm9va0FjdGlvbjogZnVuY3Rpb24gc2F2ZUJvb2tBY3Rpb24oY29udGV4dCwgYm9vaykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaW5kZXg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGluZGV4ID0gY29udGV4dC5zdGF0ZS5ib29rcy5maW5kSW5kZXgoZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGIuYm9va0lkID09IGJvb2suYm9va0lkOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEoaW5kZXggPT0gLTEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLnBvc3QoImJvb2tzIiwgYm9vayk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MucHV0KCJib29rcyIsIGJvb2spOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2F2ZUJvb2siLCBib29rKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlQm9va0FjdGlvbjogZnVuY3Rpb24gZGVsZXRlQm9va0FjdGlvbihjb250ZXh0LCBib29rKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MuZGVsZXRlKCJib29rcyIuY29uY2F0KGJvb2suYm9va0lkKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJkZWxldGVCb29rIiwgYm9vayk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVTZWFyY2hlZEJvb2s6IGZ1bmN0aW9uIHNhdmVTZWFyY2hlZEJvb2soY29udGV4dCwgYm9va1RpdGxlKSB7CiAgICAgIGlmIChjb250ZXh0LnN0YXRlLnNlYXJjaGVkQm9va3MubGVuZ3RoID4gMCkgewogICAgICAgIGNvbnRleHQuc3RhdGUuc2VhcmNoZWRCb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChzYikgewogICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KCJkZWxldGVTZWFyY2hlZEJvb2siLCBzYik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciB0aXRsZSA9IGJvb2tUaXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTsKICAgICAgY29udGV4dC5zdGF0ZS5ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICByZXR1cm4gYm9vay5ib29rVGl0bGUudG9Mb3dlckNhc2UoKSA9PSB0aXRsZTsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoYikgewogICAgICAgIHJldHVybiBjb250ZXh0LmNvbW1pdCgic2F2ZVNlYXJjaGVkQm9vayIsIGIpOwogICAgICB9KTsKICAgIH0sCiAgICBpbmNyZWFzZURvd25sb2FkQ291bnQ6IGZ1bmN0aW9uIGluY3JlYXNlRG93bmxvYWRDb3VudChjb250ZXh0LCBib29rKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBib29rLmRvd25sb2FkQ291bnQrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBeGlvcy5wdXQoImJvb2tzIiwgYm9vayk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzYXZlQm9vayIsIGJvb2spOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoUmVxdWVzdCcpOwogICAgICAgIEF4aW9zLnBvc3QoImFjY291bnQiLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgICAgICB2YXIgdXNlciA9IHJlc3AuZGF0YS51c2VyOyAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKQoKICAgICAgICAgIEF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aFN1Y2Nlc3MnLCB0b2tlbiwgdXNlcik7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aEVycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgZGVsZXRlIEF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["D:/VS2019Projects/VueBookLibrary/vueclientapp/src/store/index.js"],"names":["Vue","Vuex","Axios","use","defaults","baseURL","Store","state","books","selectedBook","searchedBooks","status","token","user","getters","isLoggedIn","authStatus","mutations","saveBook","currentState","book","index","findIndex","b","bookId","push","set","deleteBook","splice","selectBook","saveSearchedBook","deleteSearchedBook","sb","authRequest","authSuccess","authError","logout","actions","getBooksAction","context","get","data","forEach","commit","saveBookAction","post","put","deleteBookAction","delete","bookTitle","length","title","toLowerCase","trim","filter","increaseDownloadCount","downloadCount","login","Promise","resolve","reject","then","resp","headers","common","catch","err","localStorage","removeItem"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport Axios from \"axios\";\r\n\r\nVue.use(Vuex);\r\nAxios.defaults.baseURL = \"https://localhost:44390/api/\";\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tbooks: [],\r\n\t\tselectedBook: null,\r\n\t\tsearchedBooks: [],\r\n\t\tstatus: '',\r\n\t\ttoken: '',\r\n\t\tuser: {}\r\n\t},\r\n\tgetters: {\r\n\t\tisLoggedIn: state => !!state.token,\r\n\t\tauthStatus: state => state.status,\r\n\t},\r\n\tmutations: {\r\n\t\tsaveBook(currentState, book) {\r\n\t\t\tlet index = currentState.books.findIndex(b => b.bookId == book.bookId);\r\n\t\t\tif (index == -1) {\r\n\t\t\t\tcurrentState.books.push(book);\r\n\t\t\t} else {\r\n\t\t\t\tVue.set(currentState.books, index, book);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeleteBook(currentState, book) {\r\n\t\t\tlet index = currentState.books.findIndex(b => b.bookId == book.bookId);\r\n\t\t\tcurrentState.books.splice(index, 1);\r\n\t\t},\r\n\t\tselectBook(currentState, book) {\r\n\t\t\tcurrentState.selectedBook = book;\r\n\t\t},\r\n\t\tsaveSearchedBook(currentState, book) {\r\n\t\t\tcurrentState.searchedBooks.push(book);\r\n\t\t},\r\n\t\tdeleteSearchedBook(currentState, book) {\r\n\t\t\tlet index = currentState.searchedBooks.findIndex(sb => sb.bookId == book.bookId);\r\n\t\t\tcurrentState.searchedBooks.splice(index, 1);\r\n\t\t},\r\n\t\tauthRequest(state) {\r\n\t\t\tstate.status = 'loading';\r\n\t\t},\r\n\t\tauthSuccess(state, token, user) {\r\n\t\t\tstate.status = 'success';\r\n\t\t\tstate.token = token;\r\n\t\t\tstate.user = user;\r\n\t\t},\r\n\t\tauthError(state) {\r\n\t\t\tstate.status = 'error'\r\n\t\t},\r\n\t\tlogout(state) {\r\n\t\t\tstate.status = '';\r\n\t\t\tstate.token = '';\r\n\t\t},\r\n\t},\r\n\r\n\tactions: {\r\n\t\tasync getBooksAction(context) {\r\n\t\t\t(await Axios.get(\"books\")).data.forEach(b => context.commit(\"saveBook\", b));\r\n\t\t},\r\n\t\tasync saveBookAction(context, book) {\r\n\t\t\tlet index = context.state.books.findIndex(b => b.bookId == book.bookId);\r\n\t\t\tif (index == -1) {\r\n\t\t\t\tawait Axios.post(\"books\", book);\r\n\t\t\t} else {\r\n\t\t\t\tawait Axios.put(\"books\", book);\r\n\t\t\t}\r\n\t\t\tcontext.commit(\"saveBook\", book);\r\n\t\t},\r\n\t\tasync deleteBookAction(context, book) {\r\n\t\t\tawait Axios.delete(`books${book.bookId}`);\r\n\t\t\tcontext.commit(\"deleteBook\", book);\r\n\t\t},\r\n\t\tsaveSearchedBook(context, bookTitle) {\r\n\t\t\tif (context.state.searchedBooks.length > 0) {\r\n\t\t\t\tcontext.state.searchedBooks.forEach(sb => context.commit(\"deleteSearchedBook\", sb));\r\n\t\t\t}\r\n\t\t\tlet title = bookTitle.toLowerCase().trim();\r\n\t\t\tcontext.state.books.filter(book => book.bookTitle.toLowerCase() == title)\r\n\t\t\t\t.forEach(b => context.commit(\"saveSearchedBook\", b));\r\n\t\t},\r\n\t\tasync increaseDownloadCount(context, book) {\r\n\t\t\tbook.downloadCount++;\r\n\t\t\tawait Axios.put(\"books\", book);\r\n\t\t\tcontext.commit(\"saveBook\", book);\r\n\t\t},\r\n\t\tlogin({ commit }, user) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcommit('authRequest')\r\n\t\t\t\tAxios.post(\"account\", user)\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\tconst token = resp.data.token\r\n\t\t\t\t\t\tconst user = resp.data.user\r\n\t\t\t\t\t\t//localStorage.setItem('token', token)\r\n\t\t\t\t\t\tAxios.defaults.headers.common['Authorization'] = token\r\n\t\t\t\t\t\tcommit('authSuccess', token, user)\r\n\t\t\t\t\t\tresolve(resp)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tcommit('authError')\r\n\t\t\t\t\t\tlocalStorage.removeItem('token')\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tlogout({ commit }) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcommit('logout')\r\n\t\t\t\tlocalStorage.removeItem('token')\r\n\t\t\t\tdelete Axios.defaults.headers.common['Authorization']\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})\r\n"]}]}